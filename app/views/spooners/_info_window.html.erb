<div class='mapboxgl-popup'>
  <div class="card col-3 rounded d-flex justify-content-between mb-4" style="width: 140px; padding: 0px;">
    <% if spooner.img.attached? %>
      <%= cl_image_tag spooner.img.first.key, height: 140, width: 139, crop: :fill %>
    <% else %>
      <%= image_tag "person-placeholder.jpg",  width: 139 , height: 140, crop: :fill %>
    <% end %>
    <div class="card-body" style="background-color: rgb(255,143,177,0.2); padding: 10px 15px;">
      <div class="row">
        <p class="card-text d-flex align-items-center" style="margin-bottom: 0px; color: black; font-size: 20px;"><strong><%=link_to spooner.name, spooner_path(spooner), class: "text-decoration-none"%></strong></p>
        <div class="col-10">

          <p class="card-text d-flex align-items-center" style="margin-bottom: 0px; color: black;"><iconify-icon icon="mdi:silverware-spoon"></iconify-icon><%=spooner.spoon_type.capitalize%></p>
          <p class="card-text d-flex align-items-center" style="margin-bottom: 0px; color: black;"><iconify-icon icon="bx:male-female"></iconify-icon><%=spooner.gender.capitalize%></p>
          <% if spooner.reviews.size > 0 %>
          <p class="card-text d-flex align-items-center" style="margin-bottom: 0px; color: black;"><iconify-icon icon="material-symbols:star"></iconify-icon>
          <%= (spooner.reviews.reduce(0) { |sum, review| sum + review.rating }).fdiv(spooner.reviews.size) %></p>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
